#compdef go

# GO language completion function

local state cmds ret=1

_arguments -C '1: :-> cmds'

case $state in
    cmds)
        local -a cmds
        cmds=(
            'build:compile packages and dependencies'
            'clean:remove object files'
            'env:print Go environment information'
            'fix:run go tool fix on packages'
            'fmt:run gofmt on package sources'
            'get:download and install packages and dependencies'
            'help:print help information'
            'install:compile and install packages and dependencies'
            'list:list packages'
            'run:compile and run Go program'
            'test:test packages'
            'tool:run specified go tool'
            'version:print Go version'
            'vet:run go tool vet on packages'
            )

            # show command descriptions
            _describe -t commands 'go command' cmds && ret=0
            ;;
    esac

    return ret
